# План автоматизации вэб-сервиса покупки тура

## 1 Перечень автоматизируемых сценариев

### 1.1 UI-тесты

a. Успешная покупка тура с валидным номером карты с разрешенной оплатой (APPROVED). 
* Перейти на страницу покупки тура
* Нажать на кнопку "Купить"
* Заполнить поле "Номер карты" валидными данными: 4444 4444 4444 4441
* Заполнить поле "Месяц" валидными данными: 08
* Заполнить поле "Год" валидными данными: 22
* Заполнить поле "Владелец" валидными данными: DUDIN OLEG
* Заполнить поле "CVC/CVV" валидными данными: 999
* Нажать на кнопку "Продолжить"
* Ожидаемый результат: сообщения об успешной оплате тура "Успешно" и "Операция одобрена Банком.".

b. Успешная покупка тура в кредит с валидным номером карты с разрешенной оплатой (APPROVED).
* Перейти на страницу покупки тура
* Нажать на кнопку "Купить в кредит"
* Заполнить поле "Номер карты" валидными данными: 4444 4444 4444 4441
* Заполнить поле "Месяц" валидными данными: 08
* Заполнить поле "Год" валидными данными: 22
* Заполнить поле "Владелец" валидными данными: DUDIN OLEG
* Заполнить поле "CVC/CVV" валидными данными: 999
* Нажать на кнопку "Продолжить"
* Ожидаемый результат: сообщения об успешной оплате тура "Успешно" и "Операция одобрена Банком.".

с. Неуспешная покупка тура с валидным номером карты с запрещенной оплатой (DECLINED).
* Перейти на страницу покупки тура
* Нажать на кнопку "Купить"
* Заполнить поле "Номер карты" валидными данными: 4444 4444 4444 4442
* Заполнить поле "Месяц" валидными данными: 08
* Заполнить поле "Год" валидными данными: 22
* Заполнить поле "Владелец" валидными данными: DUDIN OLEG
* Заполнить поле "CVC/CVV" валидными данными: 999
* Нажать на кнопку "Продолжить"
* Ожидаемый результат: сообщения о неуспешной оплате тура "Ошибка" и "Ошибка! Банк отказал в проведении операции.".

d. Неуспешная покупка тура в кредит с валидным номером карты с запрещенной оплатой (DECLINED).
* Перейти на страницу покупки тура
* Нажать на кнопку "Купить в кредит"
* Заполнить поле "Номер карты" валидными данными: 4444 4444 4444 4442
* Заполнить поле "Месяц" валидными данными: 08
* Заполнить поле "Год" валидными данными: 22
* Заполнить поле "Владелец" валидными данными: DUDIN OLEG
* Заполнить поле "CVC/CVV" валидными данными: 999
* Нажать на кнопку "Продолжить"
* Ожидаемый результат: сообщения о неуспешной оплате тура "Ошибка" и "Ошибка! Банк отказал в проведении операции.".

e. Покупка тура с пустым полем "Номер карты".
* Перейти на страницу покупки тура
* Нажать на кнопку "Купить"
* Заполнить поле "Месяц" валидными данными: 08
* Заполнить поле "Год" валидными данными: 22
* Заполнить поле "Владелец" валидными данными: DUDIN OLEG
* Заполнить поле "CVC/CVV" валидными данными: 999
* Нажать на кнопку "Продолжить"
* Ожидаемый результат: неуспешная оплата, под полем "Номер карты" сообщение об ошибке ввода "Неверный формат"

f. Покупка тура в кредит с пустым полем "Номер карты".
* Перейти на страницу покупки тура
* Нажать на кнопку "Купить в кредит"
* Заполнить поле "Месяц" валидными данными: 08
* Заполнить поле "Год" валидными данными: 22
* Заполнить поле "Владелец" валидными данными: DUDIN OLEG
* Заполнить поле "CVC/CVV" валидными данными: 999
* Нажать на кнопку "Продолжить"
* Ожидаемый результат: неуспешная оплата, под полем "Номер карты" сообщение об ошибке ввода "Неверный формат"




3. Неуспешная отправка заявки. Поле "Мобильный телефон" пустое, остальные поля заполнены.
    * Перейти на страницу вклада по ссылке: https://alfabank.ru/make-money/savings-account/nakopilka/
    * Нажать на кнопку "Заполнить заявку"
    * Заполнить поле "Имя" анкеты валидными данными
    * Нажать на чекбокс
    * Нажать на кнопку "Мы перезвоним"
    * Ожидаемый результат: кнопка "Мы перезвоним" не активна.

4. Неуспешная отправка заявки. Чекбокс не нажат, остальные поля заполнены.
    * Перейти на страницу вклада по ссылке: https://alfabank.ru/make-money/savings-account/nakopilka/
    * Нажать на кнопку "Заполнить заявку"
    * Заполнить поле "Имя" анкеты валидными данными
    * Заполнить поле "Мобильный телефон" анкеты валидными данными
    * Нажать на кнопку "Мы перезвоним"
    * Ожидаемый результат: кнопка "Мы перезвоним" не активна.

5. Неуспешная отправка заявки. Поле "Имя" заполнено невалидными данными, остальные поля заполнены валидными данными.
    * Перейти на страницу вклада по ссылке: https://alfabank.ru/make-money/savings-account/nakopilka/
    * Нажать на кнопку "Заполнить заявку"
    * Заполнить поле "Имя" анкеты невалидными данными
    * Заполнить поле "Мобильный телефон" анкеты валидными данными
    * Нажать на чекбокс
    * Нажать на кнопку "Мы перезвоним"
    * Ожидаемый результат: сообщение об ошибке "Проверьте, пожалуйста, имя".

6. Неуспешная отправка заявки. Поле "Мобильный телефон" заполнено невалидными данными, остальные поля заполнены валидными данными.
    * Перейти на страницу вклада по ссылке: https://alfabank.ru/make-money/savings-account/nakopilka/
    * Нажать на кнопку "Заполнить заявку"
    * Заполнить поле "Имя" анкеты валидными данными
    * Заполнить поле "Мобильный телефон" анкеты невалидными данными
    * Нажать на чекбокс
    * Нажать на кнопку "Мы перезвоним"
    * Ожидаемый результат: сообщение об ошибке "Проверьте, пожалуйста, номер телефона".

## Перечень используемых инструментов с обоснованием выбора
* Java 8 //наиболее распространенная версия в настоящее время
* Junit 5 // наиболее популярная платформа модульного тестирования в экосистеме Java
* lombok // библиотека, которая позволяет сократить количество шаблонного кода на Java
* Faker // генератор случайных данных
* Selenide 5.16.2 // инструмент для автоматизации UI тестов в экосистеме Java
* Git // система для контроля версий
* GitHub // система для хранения кода онлайн
* AppVeyor // веб-сервис непрерывной интеграции
* Allure // система формирования отчетов

## Перечень необходимых разрешений/данных/доступов от банка

* Требования к содержимому поля "Имя"
* Требования к содержимому поля "Мобильный телефон"

### Перечень и описание возможных рисков при автоматизации
* Нет документации, поэтому о работе системы необходимо догадываться
* Время потраченное на автоматизацию окажется гораздо больше чем на ручное тестирование (например, из-за того, что у инженера-автоматизатора мало опыта)

### Перечень необходимых специалистов для автоматизации
* Один инженер-автоматизатор среднего уровня опыта

### Интервальная оценка с учётом рисков (в часах)
* 7 часов без рисков, из них:
    * 1 час на исследование страницы вклада;
    * 1 час на планирование;
    * 3 часа на написание тестов;
    * 2 часа на описание багов и отчётных документов.
* 21 час с рисками, из них:
    * 7 часов без рисков + 14 часов на изучение инструментов автоматизации.  
